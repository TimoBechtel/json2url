!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o(e.json2Url={})}(this,function(e){e.serialize=function(e,o){void 0===o&&(o={});var r=o.objectPrefix;void 0===r&&(r="=");var t=o.objectPostfix;void 0===t&&(t="+");var n=o.separator;void 0===n&&(n="&");var i=o.emptyPlaceholder;void 0===i&&(i=",");var a=o.encoder;void 0===a&&(a=encodeURIComponent);var p=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},f=p(r),c=p(t),s=p(n),v=p(i);return"string"==typeof e&&(e=JSON.parse(e)),Object.values(e).map(function e(o){if(o&&"object"==typeof o)return r+Object.values(o).map(e).join(n)+t;if(o||0===o){if(!0===o&&(o=1),(o=a(o)).match("("+c+")|("+f+")|("+s+")|("+v+")"))throw"Defined postfix, prefix or separator exists in source! (value: "+o+")"}else o=i;return o}).join(n).replace(new RegExp(c+"+$"),"").replace(new RegExp(""+s+f,"g"),r).replace(new RegExp(""+c+s,"g"),t)},e.deserialize=function(e,o,r){void 0===r&&(r={});var t=r.objectPrefix;void 0===t&&(t="=");var n=r.objectPostfix;void 0===n&&(n="+");var i=r.separator;void 0===i&&(i="&");var a=r.emptyPlaceholder;void 0===a&&(a=",");var p=r.decoder;void 0===p&&(p=decodeURIComponent);for(var f=[[]],c=f[0],s="",v=0,d=e;v<d.length;v+=1){var u=d[v];-1===[i,t,n].indexOf(u)?s+=u:(s===a?c.push(""):s&&c.push(p(s)),s="",u===t?f.push(c=[]):u===n&&(f.pop(),f[f.length-1].push(c),c=f[f.length-1]))}for(s===a?c.push(""):s&&c.push(p(s));f.length>1;)f[f.length-2].push(f.pop());if(f=f[0],o){var l;l=Array.isArray(o)?[].concat(o):Object.assign({},o);var h=function(e,o){Object.entries(e).forEach(function(r,t){var n=r[0],i=r[1];i&&"object"==typeof i?h(i,o[t]):(e[n]=o[t],"number"==typeof i?e[n]=parseFloat(o[t])||0:"boolean"==typeof i&&(e[n]=!!o[t]))})};return h(l,f),l}return f}});
//# sourceMappingURL=index.umd.js.map
