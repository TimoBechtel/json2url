!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).json2Url={})}(this,function(e){function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}e.deserialize=function(e,o,n){for(var i,a=void 0===n?{}:n,p=a.objectPrefix,c=void 0===p?"=":p,f=a.objectPostfix,u=void 0===f?"+":f,l=a.separator,s=void 0===l?"&":l,d=a.emptyPlaceholder,v=void 0===d?",":d,y=a.decoder,h=void 0===y?decodeURIComponent:y,b=[[]],m=b[0],g="",j=function(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,void 0):void 0}}(e))){o&&(e=o);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=e[Symbol.iterator]()).next.bind(o)}(e);!(i=j()).done;){var x=i.value;-1===[s,c,u].indexOf(x)?g+=x:(g===v?m.push(""):g&&m.push(h(g)),g="",x===c?b.push(m=[]):x===u&&(b.pop(),b[b.length-1].push(m),m=b[b.length-1]))}for(g===v?m.push(""):g&&m.push(h(g));b.length>1;)b[b.length-2].push(b.pop());var O;return b=b[0],o?(function e(t,r){Object.entries(t).forEach(function(o,n){var i=o[0],a=o[1];a&&"object"==typeof a?e(a,r[n]):(t[i]=r[n],"number"==typeof a?t[i]=parseFloat(r[n])||0:"boolean"==typeof a&&(t[i]=!!r[n]))})}(O=Array.isArray(o)?[].concat(o):t({},o),b),O):b},e.serialize=function(e,t){var r=void 0===t?{}:t,o=r.objectPrefix,n=void 0===o?"=":o,i=r.objectPostfix,a=void 0===i?"+":i,p=r.separator,c=void 0===p?"&":p,f=r.emptyPlaceholder,u=void 0===f?",":f,l=r.encoder,s=void 0===l?encodeURIComponent:l,d=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},v=d(n),y=d(a),h=d(c),b=d(u);return"string"==typeof e&&(e=JSON.parse(e)),Object.values(e).map(function e(t){if(t&&"object"==typeof t)return n+Object.values(t).map(e).join(c)+a;if(t||0===t){if(!0===t&&(t=1),(t=s(t)).match("("+y+")|("+v+")|("+h+")|("+b+")"))throw"Defined postfix, prefix or separator exists in source! (value: "+t+")"}else t=u;return t}).join(c).replace(new RegExp(y+"+$"),"").replace(new RegExp(""+h+v,"g"),n).replace(new RegExp(""+y+h,"g"),a)}});
//# sourceMappingURL=index.umd.js.map
